"use strict";$(function(){var t=new OmnomIRC,e=function(){var t={interval:false,$elem:false,start:function(){if(t.interval===false){var e=[true,true,true,true,true,false,false,false];t.$elem=$("<div>").attr("id","indicator").css({position:"absolute",zIndex:44,margin:0,padding:0,top:0,right:0}).appendTo("body");t.interval=setInterval(function(){t.$elem.empty().append($.map(e,function(t){return $("<div>").css({padding:0,margin:0,width:3,height:3,backgroundColor:t?"black":""})}));var n=e[0],i;for(i=1;i<=7;i++){e[i-1]=e[i]}e[7]=n},50)}},stop:function(){if(t.interval!==false){clearInterval(t.interval);t.interval=false;t.$elem.remove()}}};return{start:t.start,stop:t.stop}}(),n=function(){var i={draw:function(){var e=0,i=0,o=false,s=0,a=false,r=0,c=function(t){r=$(t).width();a=false;$(t).css({position:"absolute","z-index":100,left:e-s}).after($("<div>").attr("id","topicDragPlaceHolder").css({display:"inline-block",width:r})).addClass("dragging").find("div").css("display","block").focus();o=false},l=function(t,e){t.preventDefault();i=t.clientX;s=i-$(e).position().left;o=true},u=function(t,n){e=t.clientX;if(o&&Math.abs(e-i)>=4){o=false;c(n);t.preventDefault()}else if($(n).hasClass("dragging")){var a=e-s,l=$("#topicDragPlaceHolder").next(".chanList"),u=$("#topicDragPlaceHolder").prev(".chanList");$(n).css("left",a);if(l.length>0&&l.position().left<a+r/2){l.after($("#topicDragPlaceHolder").remove())}else if(u.length>0){if(u.attr("id")==$(n).attr("id")){u=u.prev()}if(u.length>0&&u.position().left>a){u.before($("#topicDragPlaceHolder").remove())}}}},d=function(e,n){if(o){o=false}else{$(n).find("div").css("display","none");$("#topicDragPlaceHolder").replaceWith(n);t.channels.setChans($.map($(".chanList"),function(e,n){if($(e).find("span").hasClass("curchan")){t.options.set("curChan",n);t.channels.current().setI(n)}return $(e).data("json")}))}};$("#ChanList").empty().append($.map(t.channels.getList(),function(e,i){if(e.ex&&t.options.get("extraChans")||!e.ex){return $("<div>").data("json",e).attr("id","chan"+i.toString()).addClass("chanList"+(e.high?" highlightChan":"")).append($("<span>").addClass("chan "+(t.channels.current().is(i)?" curchan":"")).append(e.chan.substr(0,1)!="#"?$("<span>").addClass("closeButton").css({width:9,float:"left"}).mouseup(function(e){if(a){t.channels.part(i)}}).text("x"):"",$("<span>").text(e.chan)).mouseup(function(){if(a){t.channels.current().unload();n.join(i)}}),$("<div>").css({position:"fixed",width:"100%",height:"100%","z-index":101,top:0,left:0,display:"none"}).mousemove(function(t){u(t,$(this).parent())}).mouseup(function(t){d(t,$(this).parent())}).mouseout(function(t){d(t,$(this).parent())})).mousedown(function(t){a=true;l(t,this)}).mousemove(function(t){u(t,this)}).mouseout(function(t){if(o){c(this)}}).mouseup(function(t){d(t,this)})}}))},init:function(){i.draw()},join:function(n,i){e.start();$("#message").attr("disabled","true");$("#MessageBox").empty().css("transition","none");$(".chan").removeClass("curchan");t.channels.load(n,function(o,a){if(o){if(a.admin){$("#adminLink").css("display","")}else{$("#adminLink").css("display","none")}if(t.settings.loggedIn()){$("#message").removeAttr("disabled")}}$("#chan"+n.toString()).removeClass("highlightChan").find(".chan").addClass("curchan");if(i!==undefined){i(o)}s.down();$("#MessageBox").css("transition","");e.stop()})}};return{init:i.init,draw:i.draw,join:i.join}}(),i=function(){var e={draw:function(e){$("#UserList").empty().append($.map(e,function(e){var n,i=encodeURIComponent(e.nick),o=$("<span>").text(e.nick).html();return $("<span>").attr("title",t.settings.getNetwork(e.network).name).append(t.settings.getNetwork(e.network).userlist.split("NICKENCODE").join(i).split("NICK").join(o),"<br>").mouseover(function(){n=t.network.getJSON("misc.php?userinfo&name="+base64.encode(e.nick)+"&chan="+t.channels.current().handlerB64+"&online="+e.network.toString(),function(t){if(t.last){$("#lastSeenCont").text("Last Seen: "+new Date(t.last*1e3).toLocaleString())}else{$("#lastSeenCont").text("Last Seen: never")}$("#lastSeenCont").css("display","block")})}).mouseout(function(){try{n.abort()}catch(t){}$("#lastSeenCont").css("display","none")})}),"<br><br>")}};return{draw:e.draw}}(),o=function(){var t={set:function(t){$("#topic").empty().append(t)}};return{set:t.set}}(),s=function(){var e={isDown:false,is_touch:"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,headerOffset:0,$mBox:false,$mBoxCont:false,touchScroll:function(t,n){var i=-1;t.bind("touchstart",function(t){if($(t.target).is("a")){return}e.$mBox.css("transition","none");t.preventDefault();i=t.originalEvent.touches[0].clientY}).bind("touchmove",function(t){if($(t.target).is("a")){return}t.preventDefault();if(i==-1){return}var e=t.originalEvent.changedTouches[0].clientY;n(e-i);i=e}).bind("touchend touchcancel touchleave",function(t){if($(t.target).is("a")){return}e.$mBox.css("transition","");t.preventDefault();i=-1})},enableButtons:function(){var t=function(t,n,i){var o;$(t).mousedown(function(){o=setInterval(function(){document.getElementById(n).scrollLeft+=i},50)}).mouseup(function(){try{clearInterval(o)}catch(t){}}).mouseout(function(){try{clearInterval(o)}catch(t){}});if(e.is_touch){$(t).bind("touchstart",function(){o=setInterval(function(){document.getElementById(n).scrollLeft+=i},50)}).bind("touchend touchcancel touchleave",function(t){try{clearInterval(o)}catch(t){}})}};t("#arrowLeftChan","ChanListCont",-9);t("#arrowRightChan","ChanListCont",9);t("#arrowLeftTopic","topicCont",-9);t("#arrowRightTopic","topicCont",9)},moveWindow:function(n){var i=-parseInt(e.$mBox[0].style.top,10),o=e.$mBox.height()-e.$mBoxCont.height(),s=Math.min(o,Math.max(0,i-n));e.isDown=false;e.$mBox.css("top",-s);if(s==o){e.isDown=true}if(t.options.get("scrollBar")){e.reCalcBar()}},enableWheel:function(){e.$mBoxCont.bind("DOMMouseScroll mousewheel",function(t){var n=e.$mBox[0].style.top;e.moveWindow(/Firefox/i.test(navigator.userAgent)?t.originalEvent.detail*-20:t.originalEvent.wheelDelta/2);t.preventDefault();t.stopPropagation();t.cancelBubble=true});if(e.is_touch){e.touchScroll(e.$mBoxCont,function(t){e.moveWindow(t)})}},reCalcBar:function(){if($("#scrollBar").length!==0){if(e.$mBox.height()<=e.$mBoxCont.height()){$("#scrollBar").css("top",e.headerOffset)}else{$("#scrollBar").css("top",parseInt(e.$mBox[0].style.top,10)/(e.$mBoxCont.height()-e.$mBox.height())*($("body")[0].offsetHeight-$("#scrollBar")[0].offsetHeight-e.headerOffset)+e.headerOffset)}}},enableUserlist:function(){var t=function(t,e){$(e).css("top",Math.min(0,Math.max((/Opera/i.test(navigator.userAgent)?-30:0)+document.getElementById("UserListInnerCont").clientHeight-e.scrollHeight,t+parseInt($("#UserList").css("top"),10))))};$("#UserList").css("top",0).bind("DOMMouseScroll mousewheel",function(e){if(e.preventDefault){e.preventDefault()}e=e.originalEvent;t(/Firefox/i.test(navigator.userAgent)?e.detail*-20:e.wheelDelta/2,this)});if(e.is_touch){e.touchScroll($("#UserList"),function(t){e.moveUserList(t,this)})}},showBar:function(){var t=false,n=false,i=function(i){var o=0;if(a.data("isClicked")){if(!(t!==false&&i<=t)&&!(n!==false&&i>=n)){o=parseInt(a.css("top"),10)+(i-a.data("prevY"));e.$mBox.css("top",-((o-e.headerOffset)/($("body")[0].offsetHeight-a[0].offsetHeight-e.headerOffset))*(e.$mBox.height()-e.$mBoxCont.height()));e.isDown=false;if(o<e.headerOffset){if(t===false){t=i}o=e.headerOffset;e.$mBox.css("top",0)}else{t=false}if(o>$("body")[0].offsetHeight-a[0].offsetHeight){if(n===false){n=i}o=$("body")[0].offsetHeight-a[0].offsetHeight;e.$mBox.css("top",e.$mBoxCont.height()-e.$mBox.height());e.isDown=true}else{n=false}a.css("top",o)}}a.data("prevY",i)},o=function(){a.data("isClicked",true);$("#scrollArea").css("display","block");e.$mBox.css("transition","none");c=false;t=false;n=false},s=function(){a.data("isClicked",false);$("#scrollArea").css("display","none");e.$mBox.css("transition","")},a=$("<div>").attr("id","scrollBar").data({prevY:0,isClicked:false}).appendTo("body").mousemove(function(t){i(t.clientY)}).mousedown(function(t){o()}).mouseup(function(){s()}),r,c=false;a.css("top",$("body")[0].offsetHeight-a[0].offsetHeight);r=$("<div>").attr("id","scrollArea").css({display:"none",width:"100%",height:"100%",position:"absolute",cursor:"move",left:0,top:0,zIndex:100}).mousemove(function(t){i(t.clientY)}).mouseup(function(){s()}).mouseenter(function(t){if(t.originalEvent.buttons==0&&c){s()}c=true});if(e.is_touch){r.bind("touchend touchcancel touchleave",function(t){s()}).bind("touchmove",function(t){t.preventDefault();i(t.originalEvent.changedTouches[0].clientY)});a.bind("touchstart",function(t){t.preventDefault();o()}).bind("touchmove",function(t){t.preventDefault();i(t.originalEvent.changedTouches[0].clientY)}).bind("touchend touchcancel touchleave",function(t){t.preventDefault();s(t)})}r.appendTo("body");$("<div>").attr("id","scrollBarLine").appendTo("body");$(window).trigger("resize")},showButtons:function(){var t,n,i=function(){t=setInterval(function(){e.moveWindow(9)},50)},o=function(){n=setInterval(function(){e.moveWindow(-9)},50)},s;s=$("<span>").addClass("arrowButtonHoriz3").append($("<div>").css({fontSize:"12pt",width:12,height:"12pt",top:0,position:"absolute",fontWeight:"bolder",marginTop:"10pt",marginLeft:"-10pt"}).addClass("arrowButtonHoriz2").html("&#9650;"),$("<div>").css({fontSize:"12pt",width:12,height:"9pt",top:0,position:"absolute",marginTop:"10pt",marginLeft:"-10pt"}).mousedown(function(){e.$mBox.css("transition","none");i()}).mouseout(function(){e.$mBox.css("transition","");try{clearInterval(t)}catch(t){}}).mouseup(function(){e.$mBox.css("transition","");try{clearInterval(t)}catch(t){}}));if(e.is_touch){s.bind("touchstart",function(){i()}).bind("touchend touchcancel touchleave",function(e){try{clearInterval(t)}catch(t){}})}s.appendTo("body");s=$("<span>").addClass("arrowButtonHoriz3").append($("<div>").css({fontSize:"12pt",width:12,height:"12pt",bottom:"6pt",position:"absolute",fontWeight:"bolder",marginTop:"-10pt",marginLeft:"-10pt"}).addClass("arrowButtonHoriz2").html("&#9660;"),$("<div>").css({fontSize:"12pt",width:12,height:"9pt",bottom:"9pt",position:"absolute",marginTop:"-10pt",marginLeft:"-10pt"}).mousedown(function(){e.$mBox.css("transition","none");o()}).mouseout(function(){e.$mBox.css("transition","");try{clearInterval(n)}catch(t){}}).mouseup(function(){e.$mBox.css("transition","");try{clearInterval(n)}catch(t){}}));if(e.is_touch){s.bind("touchstart",function(){o()}).bind("touchend touchcancel touchleave",function(t){try{clearInterval(n)}catch(t){}})}s.appendTo("body")},down:function(){e.$mBox.css("top",e.$mBoxCont.height()-e.$mBox.height());e.reCalcBar();e.isDown=true},up:function(){e.$mBox.css("top",0);e.reCalcBar();e.isDown=false},slide:function(){if(e.isDown){e.down()}},init:function(){e.$mBox=$("#MessageBox");e.$mBoxCont=$("#mBoxCont");e.enableButtons();e.headerOffset=$("#header").height()-2;if(t.options.get("scrollBar")){e.showBar()}else{e.showButtons()}if(t.options.get("scrollWheel")){e.enableWheel()}e.enableUserlist();$(document).add(window).add("body").add("html").scroll(function(t){t.preventDefault()})}};return{down:e.down,up:e.up,slide:e.slide,init:e.init,reCalcBar:e.reCalcBar}}(),a=function(){var e={init:function(){if(t.options.get("smileys")){$("#smileyMenuButton").css("cursor","pointer").click(function(){if($("#smileyselect").css("display")=="block"){$("#smileyselect").css("display","none");$(this).attr("src","smileys/smiley.gif")}else{$("#smileyselect").css("display","block");$(this).attr("src","smileys/tongue.gif")}})}else{$("#smileyMenuButton").attr("src","smileys/smiley_grey.png")}},set:function(t){$("#smileyselect").empty().append($.map(t,function(t){return[t.inMenu?$("<img>").attr({src:t.pic,alt:t.alt,title:t.title}).click(function(){if(!wysiwyg.support()){replaceText(" "+t.code,$("#message")[0])}else{var e=window.getSelection().getRangeAt(0);e.deleteContents();e.insertNode(document.createTextNode(" "+t.code));wysiwyg.updateContent()}}):""," "]}))}};return{init:e.init,set:e.set}}(),r=function(){var e={mBoxContWidthOffset:90,hide_userlist:false,show_scrollbar:true,registerToggle:function(){$("#toggleButton").click(function(e){e.preventDefault();t.options.set("enable",!t.options.get("enable"));document.location.reload()})},calcResize:function(t){var n=window.innerHeight,i=window.innerWidth,o=$("#header").outerHeight(),a=$("#footer").outerHeight(),r=Number(getComputedStyle(document.body,"").fontSize.match(/(\d*(\.\d*)?)px/)[1]);if(t){$("#scrollBarLine").css("top",parseInt($("#header").outerHeight(),10));$("#message").css("width",i*(e.hide_userlist?1:.91)-12*r-$("#loginForm").width());a=$("#footer").outerHeight();$("#mBoxCont").css("height",n-a-o-.2*r);$("html,body").height(n)}if(e.show_scrollbar){var c=i/100*e.mBoxContWidthOffset;if(t){$("#mBoxCont").css("width",c-1.9*r)}$("#scrollBarLine").css("left",c-1.4*r);if(t){$("#scrollBarLine").css("height",n-o-.1*r)}$("#scrollBar").css("left",c-1.5*r);s.reCalcBar()}s.down()},initGuestLogin:function(){var e=function(e,i,o,s){if(o===undefined){o=i;i=""}t.settings.identGuest(e,i,o,function(i){if(!i.success){if(!s){alert("ERROR"+(i.message?": "+i.message:""))}n();return}$("#pickUsernamePopup").hide();$("#message").removeAttr("disabled");t.send.val("");$("#loginForm > button").hide();$("#guestName").text(e+" (guest) (").append($("<a>").text("logout").click(function(e){e.preventDefault();if(confirm("Are you sure? You won't be able to take this nick for half an hour!")){t.settings.logout();n()}}),")").show();$(window).trigger("resize")})},n=function(){t.send.val("You need to pick a username if you want to chat!");$("#message").attr("disabled",true);$("#loginForm > button").show();$("#guestName").hide();$(window).trigger("resize")};if(t.ls.get("guestName")){e(t.ls.get("guestName"),t.ls.get("guestSig"),true,true)}else{n()}$("#loginForm").show();$("#loginForm > button").click(function(t){t.preventDefault();$("#pickUsernamePopup").toggle()});$("#pickUsernamePopup > button").click(function(t){e($('#pickUsernamePopup > input[type="text"]').val(),$('#pickUsernamePopup > input[type="checkbox"]')[0].checked)})},init:function(){var n=navigator.userAgent,i=n.indexOf("Mozilla/5.0")>-1&&n.indexOf("Android ")>-1&&n.indexOf("AppleWebKit")>-1&&!(n.indexOf("Chrome")>-1),o=n.match(/(iPod|iPhone|iPad)/i)&&n.match(/AppleWebKit/i),r=n.match(/AppleWebKit/i)&&n.match(/Android/i);$("body").css("font-size",t.options.get("fontSize").toString(10)+"pt");e.hide_userlist=t.options.get("hideUserlist");e.show_scrollbar=t.options.get("scrollBar");t.page.changeLinks();t.initinput($("#message"),true);if(!t.settings.loggedIn()){t.send.val("You need to login if you want to chat!");if(t.settings.guestLevel()>=2){e.initGuestLogin()}}if(e.hide_userlist){e.mBoxContWidthOffset=99;$("<style>").append("#mBoxCont{width:99%;}",".arrowButtonHoriz2,.arrowButtonHoriz3 > div:nth-child(2){left:98%;left:calc(99% - 5px);left:-webkit-calc(99% - 5px);}","#UserListContainer{left:99%;transition: left 0.5s 1s;-webkit-transition: left 0.5s 1s;-o-transition-property: left;-o-transition-duration: 0.5d;-o-transition-delay: ls;}","#icons{right:95px;}").appendTo("head")}s.init();e.registerToggle();if(o){e.calcResize(true)}$(window).resize(function(){e.calcResize(!o)}).trigger("resize");$("#aboutButton").click(function(t){t.preventDefault();$("#about").toggle()});a.init();c.init()},maxLines:200,lastMessage:0,lineHigh:false,addLine:function(n,i,o){var a=$("#MessageBox"),r="",c=new Date(o.time*1e3);if(a.find("tr").length>e.maxLines&&loadMode!==true){a.find("tr:first").remove()}if(n=="*"){r="* "}else{r="<"+o.name+"> "}if(t.options.get("times")){r="["+c.toLocaleTimeString()+"] "+r}r+=$("<span>").append(i).text();t.statusBar.set(r);if(new Date(e.lastMessage).getDay()!=c.getDay()){a.append($("<tr>").addClass("dateSeperator").append($("<td>").addClass(t.options.get("altLines")&&(e.lineHigh=!e.lineHigh)?"lineHigh":"").attr("colspan",t.options.get("times")?3:2).text(c.toLocaleDateString())))}var l=$("<tr>").addClass(t.options.get("altLines")&&(e.lineHigh=!e.lineHigh)?"lineHigh":"").append(t.options.get("times")?$("<td>").addClass("irc-date").append("["+c.toLocaleTimeString()+"]"):"",$("<td>").addClass("name").append(n),$("<td>").addClass(o.type).append(i));l.find("img").load(function(t){s.slide()});a.append(l);s.slide();e.lastMessage=o.time*1e3;return},setSmileys:function(t){$("#smileyselect").empty().append($.map(t,function(t){return[t.inMenu?$("<img>").attr({src:t.pic,alt:t.alt,title:t.title}).click(function(){if(!wysiwyg.support()){replaceText(" "+t.code,$("#message")[0])}else{var e=window.getSelection().getRangeAt(0);e.deleteContents();e.insertNode(document.createTextNode(" "+t.code));wysiwyg.updateContent()}}):""," "]}))}};return{init:e.init,registerToggle:e.registerToggle,addLine:e.addLine,setSmileys:e.setSmileys}}(),c=function(){var n={isOpen:false,year:0,month:0,day:0,months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],getLogUrlParam:function(){return base64.encode(n.year.toString(10)+"-"+n.month.toString(10)+"-"+n.day.toString(10))},updateInputVal:function(){$("#logDate").val(n.months[n.month-1]+" "+n.day.toString(10)+" "+n.year.toString(10))},displayDatePicker:function(){var t=new Date(n.year,n.month,n.day),e=["Sun","Mon","Tue","Wen","Thu","Fri","Sat"],i=new Date(n.year,n.month,0).getDate(),o=new Date(n.year,n.month-1,1).getDay(),s=0;if(n.day>i){n.day=i}n.updateInputVal();$("#logDatePicker").empty().append($("<a>").text("<").click(function(t){t.preventDefault();t.stopPropagation();n.year--;n.displayDatePicker()})," ",n.year.toString(10)," ",$("<a>").text(">").click(function(t){t.preventDefault();t.stopPropagation();n.year++;n.displayDatePicker()}),"<br>",$("<a>").text("<").click(function(t){t.preventDefault();t.stopPropagation();n.month--;if(n.month<1){n.month=12;n.year--}n.displayDatePicker()})," ",n.months[n.month-1]," ",$("<a>").text(">").click(function(t){t.preventDefault();t.stopPropagation();n.month++;if(n.month>12){n.month=1;n.year++}n.displayDatePicker()}),"<br>",$("<table>").append($("<tr>").append($.map(e,function(t){return $("<th>").text(t)})),$.map([0,1,2,3,4,5],function(){if(s>=i){return}return $("<tr>").append($.map([0,1,2,3,4,5,6],function(t){if(s==0&&t!=o||s>=i){return $("<td>").text(" ")}s++;return $("<td>").text(s).addClass("logDatePickerDay").addClass(s==n.day?"current":"").data("day",s).click(function(){$(".logDatePickerDay.current").removeClass("current");n.day=$(this).addClass("current").data("day");n.updateInputVal()})}))})));$("#logDatePicker").css("display","block")},open:function(){var i=new Date;e.start();t.logs.open(function(){$("#MessageBox").empty();$("#message").attr("disabled","true");t.users.setUsers([]);$("#chattingHeader").css("display","none");$("#logDatePicker").css("display","none");$("#logsHeader").css("display","block");$("#logChanIndicator").text(t.channels.current().name);n.year=parseInt(i.getFullYear(),10);n.month=parseInt(i.getMonth()+1,10);n.day=parseInt(i.getDate(),10);n.updateInputVal();n.isOpen=true;n.fetch()})},close:function(){t.logs.close();$("#chattingHeader").css("display","block");$("#logsHeader").css("display","none");n.isOpen=false},fetch:function(){e.start();$("#MessageBox").empty();t.logs.fetch(n.getLogUrlParam(),function(){s.up();e.stop()})},toggle:function(){if(n.isOpen){n.close()}else{n.open()}},init:function(){$("#logCloseButton").click(function(t){t.preventDefault();n.close()});$("#logGoButton").click(function(t){t.preventDefault();n.fetch()});$("#logsButton").click(function(t){t.preventDefault();n.toggle()});$("#logDate").click(function(t){t.preventDefault();$(this).focusout();if($("#logDatePicker").css("display")!="block"){n.displayDatePicker();t.stopPropagation()}});$(document).click(function(t){if(n.isOpen){var e=$("#logDatePicker");if(!e.is(t.target)&&e.has(t.target).length===0){e.css("display","none")}}})}};return{init:n.init}}();e.start();t.error.init();t.onmessage=r.addLine;t.onerror=t.error.addError;t.onwarning=t.error.addWarning;t.onuserchange=i.draw;t.onchannelchange=n.draw;t.onchanneljoin=function(e){if(!e){return}if(e[0]=="*"){t.channels.joinPm(e.substring(1),"",function(t){if(t!=-1){n.join(t)}});return}var i=t.channels.join(e);if(i!=-1){n.join(i)}};t.onchannelpart=t.channels.part;t.ontopicchange=o.set;t.onnotification=function(e,n,i){if(n!=t.channels.current().handler){t.channels.highlight(n)}};t.onsmileychange=r.setSmileys;t.connect(function(){if(t.options.get("enable")){r.init();n.join(t.options.get("curChan"),function(t){if(!t){n.join(0)}})}else{t.disconnect();r.registerToggle();$("#mBoxCont").empty().append("<br>",$("<a>").css("font-size","20pt").text("OmnomIRC is disabled. Click here to enable.").click(function(e){e.preventDefault();t.options.set("enable",true);window.location.reload()}));$("#footer,#header").css("display","none");e.stop()}})});